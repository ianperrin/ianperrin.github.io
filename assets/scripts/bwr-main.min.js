const mapMarkers={drink:getMarker("fa-coffee","red","circle","fas"),food:getMarker("fa-utensils","green","circle","fas"),bed:getMarker("fa-bed","blue","circle","fas")},maps=[],placeLayers=[],mapDivs=document.querySelectorAll("div.map");function initMap(e,t){const a={MapBox:L.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",{attribution:'&copy; <a href="https://www.mapbox.com/about/maps/" target="_blank" rel="noopener">Mapbox</a>, &copy; <a href="https://www.openstreetmap.org/copyright" target="_blank" rel="noopener">OpenStreetMap</a>',maxZoom:18,id:"mapbox/streets-v11",tileSize:512,zoomOffset:-1,accessToken:"pk.eyJ1IjoiaWFucGVycmluIiwiYSI6ImNrcmY1NXM2ZDA0ZXUyeGt3b29iZm56NTkifQ.ZzoGHO0lnc5aX4FK5xvO8Q"})};maps[t]=L.map(e.id,{scrollWheelZoom:!1,tap:!1}).addLayer(a.MapBox),maps[t].attributionControl.setPrefix();const o=`/assets/data/bwr-trip-${t+1}.json`,r={style:getStyle},n=new L.geoJSON.ajax(o,r);n.on("data:loaded",(function(){maps[t].fitBounds(n.getBounds().pad(.1)).setMaxBounds(n.getBounds().pad(.1)).setMinZoom(maps[t].getZoom())})).addTo(maps[t]);const p=document.querySelectorAll(`div#bwr-trip-${t+1} div.card[data-latlng]`);if(p.forEach(((e,t)=>{})),p){placeLayers[t]=L.featureGroup().addTo(maps[t]);for(let e=0;e<p.length;e++){const a=p[e].dataset;L.marker(JSON.parse(a.latlng),{icon:mapMarkers[a.type]}).bindPopup(getPopupText(a.name,a.location)).on("popupopen",(function(a){document.getElementById(`bwr-trip-${t+1}-place-${e+1}`).scrollIntoView(!1)})).addTo(placeLayers[t])}}}function getStyle(e){return{color:e.properties.stroke}}function getPopupText(e,t){return`<strong>${e}</strong><br /><em>${t}</em><br />`}function getMarker(e="",t="blue",a="circle",o="glyphicon"){return L.ExtraMarkers.icon({icon:e,markerColor:t,shape:a,prefix:o})}mapDivs.forEach(initMap);