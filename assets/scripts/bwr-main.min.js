const mapMarkers={drink:getMarker("fa-coffee","red","circle","fas"),food:getMarker("fa-utensils","green","circle","fas"),bed:getMarker("fa-bed","blue","circle","fas")},maps=[],placeLayers=[],mapDivs=document.querySelectorAll("div.map");function initMap(e,a){const t={MapBox:L.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}",{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',maxZoom:18,id:"mapbox/streets-v11",tileSize:512,zoomOffset:-1,accessToken:"pk.eyJ1IjoiaWFucGVycmluIiwiYSI6ImNrYWprc3V4bTA3dGsyeW82MGd5NDQ0M2gifQ.dexk2uljVBH4o5FoxuAYoQ"})};maps[a]=L.map(e.id,{scrollWheelZoom:!1,tap:!1}).addLayer(t.MapBox);const o=`/assets/data/bwr-trip-${a+1}.json`,r={style:getStyle},s=new L.geoJSON.ajax(o,r);s.on("data:loaded",(function(){maps[a].fitBounds(s.getBounds().pad(.1)).setMaxBounds(s.getBounds().pad(.1)).setMinZoom(maps[a].getZoom())})).addTo(maps[a]);const p=document.querySelectorAll(`div#bwr-trip-${a+1} div.card[data-latlng]`);if(p.forEach(((e,a)=>{})),p){placeLayers[a]=L.featureGroup().addTo(maps[a]);for(let e=0;e<p.length;e++){const t=p[e].dataset;L.marker(JSON.parse(t.latlng),{icon:mapMarkers[t.type]}).bindPopup(getPopupText(t.name,t.location)).on("popupopen",(function(t){document.getElementById(`bwr-trip-${a+1}-place-${e+1}`).scrollIntoView(!1)})).addTo(placeLayers[a])}}}function getStyle(e){return{color:e.properties.stroke}}function getPopupText(e,a){return`<strong>${e}</strong><br /><em>${a}</em><br />`}function getMarker(e="",a="blue",t="circle",o="glyphicon"){return L.ExtraMarkers.icon({icon:e,markerColor:a,shape:t,prefix:o})}mapDivs.forEach(initMap);